{"version":3,"sources":["src/com/google/javascript/jscomp/js/es6/util/arrayiterator.js","src/com/google/javascript/jscomp/js/es6/util/makeiterator.js","src/com/google/javascript/jscomp/js/es6/util/arrayfromiterable.js","src/com/google/javascript/jscomp/js/es6/util/arrayfromiterator.js","src/com/google/javascript/jscomp/js/util/defineproperty.js","src/com/google/javascript/jscomp/js/util/global.js","src/com/google/javascript/jscomp/js/util/polyfill.js","src/com/google/javascript/jscomp/js/es6/util/assign.js","src/com/google/javascript/jscomp/js/util/owns.js","src/com/google/javascript/jscomp/js/es6/object/assign.js","src/com/google/javascript/jscomp/js/util/objectcreate.js","src/com/google/javascript/jscomp/js/es6/util/construct.js","src/com/google/javascript/jscomp/js/es6/util/setprototypeof.js","src/com/google/javascript/jscomp/js/es6/util/restarguments.js","src/scoped-custom-element-registry.js","src/com/google/javascript/jscomp/js/es6/util/inherits.js"],"names":["$jscomp.arrayIteratorImpl","$jscomp.defineProperty","$jscomp.global","$jscomp.getGlobal","$jscomp.assign","$jscomp.polyfill","$jscomp.objectCreate","$jscomp.construct","$jscomp.getConstructImplementation","$jscomp.setPrototypeOf","ShadowRoot","prototype","createElement","NativeHTMLElement","window","HTMLElement","nativeDefine","customElements","define","nativeGet","get","nativeRegistry","definitionForElement","WeakMap","pendingRegistryForElement","globalDefinitionForConstructor","scopeForElement","CustomElementRegistry","constructor","_definitionsByTag","Map","_definitionsByClass","_whenDefinedPromises","_awaitingUpgrade","tagName","elementClass","toLowerCase","undefined","_getDefinition","DOMException","attributeChangedCallback","observedAttributes","Set","patchAttributes","definition","connectedCallback","disconnectedCallback","adoptedCallback","set","standInClass","call","createStandInElement","awaiting","delete","$jscomp.makeIterator","element","customize","info","resolve","upgrade","creationContext","push","apply","arguments","pop","whenDefined","Promise","promise","r","_upgradeWhenDefined","shouldUpgrade","add","upgradingInstance","window.HTMLElement","instance","TypeError","Reflect","construct","Object","setPrototypeOf","scope","getRootNode","document","context","length","registry","$jscomp.global.Object.defineProperty","size","setAttribute","elementClass.prototype.setAttribute","n","value","name","has","old","getAttribute","removeAttribute","elementClass.prototype.removeAttribute","patchHTMLElement","parentClass","getPrototypeOf","isUpgrade","_","forEach","attr","hasAttribute","isConnected","nativeAttachShadow","Element","attachShadow","Element.prototype.attachShadow","init","shadowRoot","installScopedCreationMethod","ctor","method","from","native","ret","installScopedCreationSetter","descriptor","getOwnPropertyDescriptor","defineProperty","configurable","writable","internalsToHostMap","attachInternals","methods","internals","$jscomp.arrayFromIterable","$jscomp.getRestArguments.apply","args","proto","originalMethod","host","RadioNodeList","elements","Array","_elements","find","HTMLFormControlsCollection","entries","index","nameReference","key","formElementsDescriptor","HTMLFormElement","nativeElements","include"],"mappings":"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","file":"scoped-custom-element-registry.min.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * @license\n * Copyright (c) 2020 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nif (!ShadowRoot.prototype.createElement) {\n  const NativeHTMLElement = window.HTMLElement;\n  const nativeDefine = window.customElements.define;\n  const nativeGet = window.customElements.get;\n  const nativeRegistry = window.customElements;\n\n  const definitionForElement = new WeakMap();\n  const pendingRegistryForElement = new WeakMap();\n  const globalDefinitionForConstructor = new WeakMap();\n  // TBD: This part of the spec proposal is unclear:\n  // > Another option for looking up registries is to store an element's\n  // > originating registry with the element. The Chrome DOM team was concerned\n  // > about the small additional memory overhead on all elements. Looking up the\n  // > root avoids this.\n  const scopeForElement = new WeakMap();\n\n  // Constructable CE registry class, which uses the native CE registry to\n  // register stand-in elements that can delegate out to CE classes registered\n  // in scoped registries\n  window.CustomElementRegistry = class {\n    constructor() {\n      this._definitionsByTag = new Map();\n      this._definitionsByClass = new Map();\n      this._whenDefinedPromises = new Map();\n      this._awaitingUpgrade = new Map();\n    }\n\n    define(tagName, elementClass) {\n      tagName = tagName.toLowerCase();\n      if (this._getDefinition(tagName) !== undefined) {\n        throw new DOMException(\n          `Failed to execute 'define' on 'CustomElementRegistry': the name \"${tagName}\" has already been used with this registry`\n        );\n      }\n      if (this._definitionsByClass.get(elementClass) !== undefined) {\n        throw new DOMException(\n          `Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry`\n        );\n      }\n      // Since observedAttributes can't change, we approximate it by patching\n      // set/removeAttribute on the user's class\n      const attributeChangedCallback =\n        elementClass.prototype.attributeChangedCallback;\n      const observedAttributes = new Set(elementClass.observedAttributes || []);\n      patchAttributes(\n        elementClass,\n        observedAttributes,\n        attributeChangedCallback\n      );\n      // Register the definition\n      const definition = {\n        elementClass,\n        connectedCallback: elementClass.prototype.connectedCallback,\n        disconnectedCallback: elementClass.prototype.disconnectedCallback,\n        adoptedCallback: elementClass.prototype.adoptedCallback,\n        attributeChangedCallback,\n        'formAssociated': elementClass['formAssociated'],\n        'formAssociatedCallback':\n          elementClass.prototype['formAssociatedCallback'],\n        'formDisabledCallback': elementClass.prototype['formDisabledCallback'],\n        'formResetCallback': elementClass.prototype['formResetCallback'],\n        'formStateRestoreCallback':\n          elementClass.prototype['formStateRestoreCallback'],\n        observedAttributes,\n      };\n      this._definitionsByTag.set(tagName, definition);\n      this._definitionsByClass.set(elementClass, definition);\n      // Register a stand-in class which will handle the registry lookup & delegation\n      let standInClass = nativeGet.call(nativeRegistry, tagName);\n      if (!standInClass) {\n        standInClass = createStandInElement(tagName);\n        nativeDefine.call(nativeRegistry, tagName, standInClass);\n      }\n      if (this === window.customElements) {\n        globalDefinitionForConstructor.set(elementClass, definition);\n        definition.standInClass = standInClass;\n      }\n      // Upgrade any elements created in this scope before define was called\n      const awaiting = this._awaitingUpgrade.get(tagName);\n      if (awaiting) {\n        this._awaitingUpgrade.delete(tagName);\n        for (const element of awaiting) {\n          pendingRegistryForElement.delete(element);\n          customize(element, definition, true);\n        }\n      }\n      // Flush whenDefined callbacks\n      const info = this._whenDefinedPromises.get(tagName);\n      if (info !== undefined) {\n        info.resolve(elementClass);\n        this._whenDefinedPromises.delete(tagName);\n      }\n      return elementClass;\n    }\n\n    upgrade() {\n      creationContext.push(this);\n      nativeRegistry.upgrade.apply(nativeRegistry, arguments);\n      creationContext.pop();\n    }\n\n    get(tagName) {\n      const definition = this._definitionsByTag.get(tagName);\n      return definition?.elementClass;\n    }\n\n    _getDefinition(tagName) {\n      return this._definitionsByTag.get(tagName);\n    }\n\n    whenDefined(tagName) {\n      const definition = this._getDefinition(tagName);\n      if (definition !== undefined) {\n        return Promise.resolve(definition.elementClass);\n      }\n      let info = this._whenDefinedPromises.get(tagName);\n      if (info === undefined) {\n        info = {};\n        info.promise = new Promise((r) => (info.resolve = r));\n        this._whenDefinedPromises.set(tagName, info);\n      }\n      return info.promise;\n    }\n\n    _upgradeWhenDefined(element, tagName, shouldUpgrade) {\n      let awaiting = this._awaitingUpgrade.get(tagName);\n      if (!awaiting) {\n        this._awaitingUpgrade.set(tagName, (awaiting = new Set()));\n      }\n      if (shouldUpgrade) {\n        awaiting.add(element);\n      } else {\n        awaiting.delete(element);\n      }\n    }\n  };\n\n  // User extends this HTMLElement, which returns the CE being upgraded\n  let upgradingInstance;\n  window.HTMLElement = function HTMLElement() {\n    // Upgrading case: the StandInElement constructor was run by the browser's\n    // native custom elements and we're in the process of running the\n    // \"constructor-call trick\" on the natively constructed instance, so just\n    // return that here\n    let instance = upgradingInstance;\n    if (instance) {\n      upgradingInstance = undefined;\n      return instance;\n    }\n    // Construction case: we need to construct the StandInElement and return\n    // it; note the current spec proposal only allows new'ing the constructor\n    // of elements registered with the global registry\n    const definition = globalDefinitionForConstructor.get(this.constructor);\n    if (!definition) {\n      throw new TypeError(\n        'Illegal constructor (custom element class must be registered with global customElements registry to be newable)'\n      );\n    }\n    instance = Reflect.construct(\n      NativeHTMLElement,\n      [],\n      definition.standInClass\n    );\n    Object.setPrototypeOf(instance, this.constructor.prototype);\n    definitionForElement.set(instance, definition);\n    return instance;\n  };\n  window.HTMLElement.prototype = NativeHTMLElement.prototype;\n\n  // Helpers to return the scope for a node where its registry would be located\n  const isValidScope = (node) =>\n    node === document || node instanceof ShadowRoot;\n  const registryForNode = (node) => {\n    // TODO: the algorithm for finding the scope is a bit up in the air; assigning\n    // a one-time scope at creation time would require walking every tree ever\n    // created, which is avoided for now\n    let scope = node.getRootNode();\n    // If we're not attached to the document (i.e. in a disconnected tree or\n    // fragment), we need to get the scope from the creation context; that should\n    // be a Document or ShadowRoot, unless it was created via innerHTML\n    if (!isValidScope(scope)) {\n      const context = creationContext[creationContext.length - 1];\n      // When upgrading via registry.upgrade(), the registry itself is put on the\n      // creationContext stack\n      if (context instanceof CustomElementRegistry) {\n        return context;\n      }\n      // Otherwise, get the root node of the element this was created from\n      scope = context.getRootNode();\n      // The creation context wasn't a Document or ShadowRoot or in one; this\n      // means we're being innerHTML'ed into a disconnected element; for now, we\n      // hope that root node was created imperatively, where we stash _its_\n      // scopeForElement. Beyond that, we'd need more costly tracking.\n      if (!isValidScope(scope)) {\n        scope = scopeForElement.get(scope)?.getRootNode() || document;\n      }\n    }\n    return scope.customElements;\n  };\n\n  // Helper to create stand-in element for each tagName registered that delegates\n  // out to the registry for the given element\n  const createStandInElement = (tagName) => {\n    return class ScopedCustomElementBase {\n      static get ['formAssociated']() {\n        return true;\n      }\n      constructor() {\n        // Create a raw HTMLElement first\n        const instance = Reflect.construct(\n          NativeHTMLElement,\n          [],\n          this.constructor\n        );\n        // We need to install the minimum HTMLElement prototype so that\n        // scopeForNode can use DOM API to determine our construction scope;\n        // upgrade will eventually install the full CE prototype\n        Object.setPrototypeOf(instance, HTMLElement.prototype);\n        // Get the node's scope, and its registry (falls back to global registry)\n        const registry = registryForNode(instance) || window.customElements;\n        const definition = registry._getDefinition(tagName);\n        if (definition) {\n          customize(instance, definition);\n        } else {\n          pendingRegistryForElement.set(instance, registry);\n        }\n        return instance;\n      }\n\n      connectedCallback() {\n        const definition = definitionForElement.get(this);\n        if (definition) {\n          // Delegate out to user callback\n          definition.connectedCallback &&\n            definition.connectedCallback.apply(this, arguments);\n        } else {\n          // Register for upgrade when defined (only when connected, so we don't leak)\n          pendingRegistryForElement\n            .get(this)\n            ._upgradeWhenDefined(this, tagName, true);\n        }\n      }\n\n      disconnectedCallback() {\n        const definition = definitionForElement.get(this);\n        if (definition) {\n          // Delegate out to user callback\n          definition.disconnectedCallback &&\n            definition.disconnectedCallback.apply(this, arguments);\n        } else {\n          // Un-register for upgrade when defined (so we don't leak)\n          pendingRegistryForElement\n            .get(this)\n            ._upgradeWhenDefined(this, tagName, false);\n        }\n      }\n\n      adoptedCallback() {\n        const definition = definitionForElement.get(this);\n        definition?.adoptedCallback?.apply(this, arguments);\n      }\n\n      // Form-associated custom elements lifecycle methods\n      ['formAssociatedCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition && definition['formAssociated']) {\n          definition?.['formAssociatedCallback']?.apply(this, arguments);\n        }\n      }\n\n      ['formDisabledCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition?.['formAssociated']) {\n          definition?.['formDisabledCallback']?.apply(this, arguments);\n        }\n      }\n\n      ['formResetCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition?.['formAssociated']) {\n          definition?.['formResetCallback']?.apply(this, arguments);\n        }\n      }\n\n      ['formStateRestoreCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition?.['formAssociated']) {\n          definition?.['formStateRestoreCallback']?.apply(this, arguments);\n        }\n      }\n\n      // no attributeChangedCallback or observedAttributes since these\n      // are simulated via setAttribute/removeAttribute patches\n    };\n  };\n\n  // Helper to patch CE class setAttribute/getAttribute to implement\n  // attributeChangedCallback\n  const patchAttributes = (\n    elementClass,\n    observedAttributes,\n    attributeChangedCallback\n  ) => {\n    if (\n      observedAttributes.size === 0 ||\n      attributeChangedCallback === undefined\n    ) {\n      return;\n    }\n    const setAttribute = elementClass.prototype.setAttribute;\n    if (setAttribute) {\n      elementClass.prototype.setAttribute = function (n, value) {\n        const name = n.toLowerCase();\n        if (observedAttributes.has(name)) {\n          const old = this.getAttribute(name);\n          setAttribute.call(this, name, value);\n          attributeChangedCallback.call(this, name, old, value);\n        } else {\n          setAttribute.call(this, name, value);\n        }\n      };\n    }\n    const removeAttribute = elementClass.prototype.removeAttribute;\n    if (removeAttribute) {\n      elementClass.prototype.removeAttribute = function (n) {\n        const name = n.toLowerCase();\n        if (observedAttributes.has(name)) {\n          const old = this.getAttribute(name);\n          removeAttribute.call(this, name);\n          attributeChangedCallback.call(this, name, old, null);\n        } else {\n          removeAttribute.call(this, name);\n        }\n      };\n    }\n  };\n\n  // Helper to patch CE class hierarchy changing those CE classes created before applying the polyfill\n  // to make them work with the new patched CustomElementsRegistry\n  const patchHTMLElement = (elementClass) => {\n    const parentClass = Object.getPrototypeOf(elementClass);\n\n    if (parentClass !== window.HTMLElement) {\n      if (parentClass === NativeHTMLElement) {\n        return Object.setPrototypeOf(elementClass, window.HTMLElement);\n      }\n\n      return patchHTMLElement(parentClass);\n    }\n  };\n\n  // Helper to upgrade an instance with a CE definition using \"constructor call trick\"\n  const customize = (instance, definition, isUpgrade = false) => {\n    Object.setPrototypeOf(instance, definition.elementClass.prototype);\n    definitionForElement.set(instance, definition);\n    upgradingInstance = instance;\n    try {\n      new definition.elementClass();\n    } catch (_) {\n      patchHTMLElement(definition.elementClass);\n      new definition.elementClass();\n    }\n    // Approximate observedAttributes from the user class, since the stand-in element had none\n    definition.observedAttributes.forEach((attr) => {\n      if (instance.hasAttribute(attr)) {\n        definition.attributeChangedCallback.call(\n          instance,\n          attr,\n          null,\n          instance.getAttribute(attr)\n        );\n      }\n    });\n    if (isUpgrade && definition.connectedCallback && instance.isConnected) {\n      definition.connectedCallback.call(instance);\n    }\n  };\n\n  // Patch attachShadow to set customElements on shadowRoot when provided\n  const nativeAttachShadow = Element.prototype.attachShadow;\n  Element.prototype.attachShadow = function (init) {\n    const shadowRoot = nativeAttachShadow.apply(this, arguments);\n    if (init.customElements) {\n      shadowRoot.customElements = init.customElements;\n    }\n    return shadowRoot;\n  };\n\n  // Install scoped creation API on Element & ShadowRoot\n  let creationContext = [document];\n  const installScopedCreationMethod = (ctor, method, from = undefined) => {\n    const native = (from ? Object.getPrototypeOf(from) : ctor.prototype)[\n      method\n    ];\n    ctor.prototype[method] = function () {\n      creationContext.push(this);\n      const ret = native.apply(from || this, arguments);\n      // For disconnected elements, note their creation scope so that e.g.\n      // innerHTML into them will use the correct scope; note that\n      // insertAdjacentHTML doesn't return an element, but that's fine since\n      // it will have a parent that should have a scope\n      if (ret !== undefined) {\n        scopeForElement.set(ret, this);\n      }\n      creationContext.pop();\n      return ret;\n    };\n  };\n  installScopedCreationMethod(ShadowRoot, 'createElement', document);\n  installScopedCreationMethod(ShadowRoot, 'importNode', document);\n  installScopedCreationMethod(Element, 'insertAdjacentHTML');\n\n  // Install scoped innerHTML on Element & ShadowRoot\n  const installScopedCreationSetter = (ctor, name) => {\n    const descriptor = Object.getOwnPropertyDescriptor(ctor.prototype, name);\n    Object.defineProperty(ctor.prototype, name, {\n      ...descriptor,\n      set(value) {\n        creationContext.push(this);\n        descriptor.set.call(this, value);\n        creationContext.pop();\n      },\n    });\n  };\n  installScopedCreationSetter(Element, 'innerHTML');\n  installScopedCreationSetter(ShadowRoot, 'innerHTML');\n\n  // Install global registry\n  Object.defineProperty(window, 'customElements', {\n    value: new CustomElementRegistry(),\n    configurable: true,\n    writable: true,\n  });\n\n  if (\n    !!window['ElementInternals'] &&\n    !!window['ElementInternals'].prototype['setFormValue']\n  ) {\n    const internalsToHostMap = new WeakMap();\n    const attachInternals = HTMLElement.prototype['attachInternals'];\n    const methods = [\n      'setFormValue',\n      'setValidity',\n      'checkValidity',\n      'reportValidity',\n    ];\n\n    HTMLElement.prototype['attachInternals'] = function (...args) {\n      const internals = attachInternals.call(this, ...args);\n      internalsToHostMap.set(internals, this);\n      return internals;\n    };\n\n    methods.forEach((method) => {\n      const proto = window['ElementInternals'].prototype;\n      const originalMethod = proto[method];\n\n      proto[method] = function (...args) {\n        const host = internalsToHostMap.get(this);\n        const definition = definitionForElement.get(host);\n        if (definition['formAssociated'] === true) {\n          originalMethod?.call(this, ...args);\n        } else {\n          throw new DOMException(\n            `Failed to execute ${originalMethod} on 'ElementInternals': The target element is not a form-associated custom element.`\n          );\n        }\n      };\n    });\n\n    // Emulate the native RadioNodeList object\n    class RadioNodeList extends Array {\n      constructor(elements) {\n        super(...elements);\n        this._elements = elements;\n      }\n\n      get ['value']() {\n        return (\n          this._elements.find((element) => element['checked'] === true)\n            ?.value || ''\n        );\n      }\n    }\n\n    // Emulate the native HTMLFormControlsCollection object\n    class HTMLFormControlsCollection {\n      constructor(elements) {\n        const entries = new Map();\n        elements.forEach((element, index) => {\n          const name = element.getAttribute('name');\n          const nameReference = entries.get(name) || [];\n          this[+index] = element;\n          nameReference.push(element);\n          entries.set(name, nameReference);\n        });\n        this['length'] = elements.length;\n        entries.forEach((value, key) => {\n          if (!value) return;\n          if (value.length === 1) {\n            this[key] = value[0];\n          } else {\n            this[key] = new RadioNodeList(value);\n          }\n        });\n      }\n\n      ['namedItem'](key) {\n        return this[key];\n      }\n    }\n\n    // Override the built-in HTMLFormElements.prototype.elements getter\n    const formElementsDescriptor = Object.getOwnPropertyDescriptor(\n      HTMLFormElement.prototype,\n      'elements'\n    );\n\n    Object.defineProperty(HTMLFormElement.prototype, 'elements', {\n      get: function () {\n        const nativeElements = formElementsDescriptor.get.call(this, []);\n\n        const include = [];\n\n        for (const element of nativeElements) {\n          const definition = definitionForElement.get(element);\n\n          // Only purposefully formAssociated elements or built-ins will feature in elements\n          if (!definition || definition['formAssociated'] === true) {\n            include.push(element);\n          }\n        }\n\n        return new HTMLFormControlsCollection(include);\n      },\n    });\n  }\n}\n"]}